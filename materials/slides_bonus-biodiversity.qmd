---
title: "Intro to Data Science"
author: "Lab 8 -- Biodiversity + Mapping Resources"
engine: knitr
format: 
  revealjs: 
    slide-number: c
    scrollable: false
    code-overflow: wrap
    code-line-numbers: false
    code-copy: hover
    theme: [night, slides.scss]
    reference-location: document
    footer: "[Programming in R for Biologists](https://njlyon0.github.io/teach_r-for-biologists/)"
---

## A Guide to Your Process

### [Scheduling]{.blue}

### [Learning Objectives]{.purple}

### [Practice]{.pink}

### [Supporting Information]{.orange}

### [Class Discussion]{.gold}

## [Today's Plan]{.blue}

- Muddiest Point Review
- Biodiversity & Ecological Communities
- Future Resources
    - Including mapping & geospatial in R!

## [Today's Learning Objectives]{.purple}

After today's session you will be able to:

. . .

- Calculate diversity and species richness with R
- Compute rarefied species richness
- Create a species accumulation curve with `ggplot2`
- Identify useful parts of The Carpentries' tutorials

## [Muddiest Point Review]{.gold}

- Recurring topics from most recent MPs:

\

. . . 

- What other topic(s) would you like to review?

## [Ecology Term Glossary]{.orange} {.smaller}

- [Population]{.gold} = individuals of <u>_one_</u> species in a given habitat / area

\

. . . 

- [Community]{.blue} = individuals of <u>_multiple_</u> species in a given habitat / area

\

. . . 

- [Abundance]{.orange} = number of <u>_individuals_</u> of one or more species

\

. . . 

- [Richness]{.pink} = number of <u>_species_</u> in a given habitat / area

\

. . . 

- [Diversity]{.purple} = index derived from some combination of abundance & richness

## [Ecological Questions]{.orange} {.smaller}

- As ecologists, we're often concerned with biodiversity

\

. . . 

- Our studies often involve data like:
    - Presence or abundance of particular species
    - Number or mix of species in a habitat
    - Habitat characteristics across multiple habitats
    - Scaling the above across space or time (or both!)

\

. . . 

- A _lot_ of different questions fit under the "ecology" umbrella!

## [Ecology Data in R]{.orange} {.smaller}

- Ecological data are famously "messy"
    - A lot of field-collected information
    - Often multiple observers with their own abbreviations or acronyms
    - Many typos or inconsistencies
    - A lot of required processing before data can be visualized / analyzed

\

. . .

- Even when _everything_ goes right, <u>ecology data has a lot of variation</u>
    - The natural world has a lot of "noise" in the data

\

. . .

- Challenge is separating biologically-relevant noise from scientistsâ€™ errors!

## [Calculating Diversity]{.orange} {.smaller}

- A lot of data wrangling can be done with whatever package you'd like
    - E.g., `dplyr`,  `tidyr`, base R, etc.

\

. . .

- Some of the special metrics unique to ecology need their own package

\

. . .

- Most of these tools live in the `vegan` package!

\

. . .

- Note on package name
    - Pronounced like the dietary preference
    - Short for "vegetation analysis" (developed by plant people)

## [Diversity Metrics]{.orange} {.smaller}

::::{.columns}

:::{.column width="33.33%"}

1. Shannon Diversity
    - Higher numbers = more diverse
    - Theoretically infinite

H' = ($\Sigma$ p~i~ * ln(p~i~)) * -1

:::
:::{.column width="33.33%"}

2. Simpson Diversity
    - Ranges from 0 to 1

D = ($\Sigma$ n * (n-1)) / (N (N - 1))

:::
:::{.column width="33.33%"}

3. Species richness (S)
    - Number of species
    - Regardless of number of individuals

:::
::::

## [Community Data in `vegan`]{.orange} {.smaller}



## [Practice Prep]{.pink} {.smaller}

![](images/hex-vegan.png){.absolute top=0 left=1100 width="12%"}



## [Calculate Diversity]{.pink} {.smaller}

![](images/hex-vegan.png){.absolute top=0 left=1100 width="12%"}







## [Temperature Check]{.purple}

#### How are you Feeling?

<p align="center">
<img src="comics/debugging.png" alt="Comic-style graph depicting someone's emotional state as they debug code (from initial struggle and defeat to eventual triumph)">
</p>

## [Rarefaction Background]{.orange} {.smaller}



## [Rarefaction with R]{.orange} {.smaller}



## [Rarefy a Community]{.pink} {.smaller}

![](images/hex-vegan.png){.absolute top=0 left=1100 width="12%"}



## [Species Accumulation Curves (SACs)]{.orange} {.smaller}



## [SAC Example]{.gold} {.smaller}



## [Making a SAC]{.orange} {.smaller}



## [Calculate Species Accumulation]{.pink} {.smaller}

![](images/hex-vegan.png){.absolute top=0 left=1100 width="12%"}



## [Make a SAC]{.pink} {.smaller}

![](images/hex-vegan.png){.absolute top=0 left=1100 width="12%"}
![](images/hex-ggplot2.png){.absolute top=0 left=965 width="12%"}



## [New `ggplot2` Geometry]{.orange} {.smaller}



## [Add Error Bars]{.pink} {.smaller}

![](images/hex-vegan.png){.absolute top=0 left=1100 width="12%"}
![](images/hex-ggplot2.png){.absolute top=0 left=965 width="12%"}





## [Temperature Check]{.purple}

#### How are you Feeling?

<p align="center">
<img src="comics/debugging.png" alt="Comic-style graph depicting someone's emotional state as they debug code (from initial struggle and defeat to eventual triumph)">
</p>

## [Continuing to Explore R]{.orange} {.smaller}



## [The Carpentries]{.orange} {.smaller}



## [My Goal for You]{.purple}

<p align="center">
<img src="comics/r-knowledge.png" alt="Comic-style graph depicting someone's confidence with R changing over time">
</p>

## [Your Accomplishments]{.gold} {.smaller}



## [Closing Thoughts]{.gold} {.smaller}



## [Upcoming Due Dates]{.blue}

- Everything must be turned in at midnight <u>tonight</u>!

\

- Turn in _everything_ you haven't yet as soon as possible
